(()=>{"use strict";const e=function(){const e=document.createElement("button");return e.classList.add("menu-button"),e.innerHTML='<i class="fa-sharp fa-solid fa-bars"></i>',e},t=function(){const e=document.createElement("span");return e.classList.add("site-name"),e.innerHTML="TODO List",e},n=function(e,t){return{inbox:e,projects:t}},a=(()=>{var e=localStorage.getItem("todoList"),t=function(e=[]){return{tasks:e}}(),n=[];if(null!=e){const a=JSON.parse(e);t=a.inbox,n=a.projects}return{getInbox:()=>t,getProjects:()=>n,save:e=>{localStorage.setItem("todoList",JSON.stringify(e)),t=e.inbox,n=e.projects}}})(),s=a;!function(){const a=new class{constructor(){}getInbox(){return s.getInbox()}getAllProjects(){return s.getProjects()}saveToStorage(e){return s.save(e)}updateInbox(){const e=this.getInbox(),t=this.getAllProjects(),a=document.querySelector("#inbox");a&&(a.innerHTML="",e.tasks.forEach((s=>{const i=document.createElement("div");i.id=s.id,a.appendChild(i);const o=document.createElement("input");o.setAttribute("type","checkbox"),o.id=`${s.id}-checkbox}`,o.checked=s.done,i.appendChild(o),o.style.backgroundImage=o.checked?'url("../dist/images/check-solid.svg")':"none",o.addEventListener("click",(a=>{s.done=a.target.checked;const i=n(e,t);this.saveToStorage(i),this.updateInbox()}));const d=document.createElement("label");d.setAttribute("for",o.id),d.innerHTML=`<strong>${s.title}</strong>`,i.appendChild(d);const c=document.createElement("span");c.classList.add("priority-color",s.priority),i.appendChild(c);const r=document.createElement("span");r.classList.add("task-due-date"),r.innerText=s.dueDate,i.append(r);const l=document.createElement("button");l.id=`${s.id}-edit-button`,l.innerHTML='<i class="fa-solid fa-pen-to-square"></i>',i.appendChild(l);const u=document.createElement("button");u.id=`${s.id}-delete-button`,u.innerHTML='<i class="fa-solid fa-trash-can"></i>',i.appendChild(u),u.addEventListener("click",(a=>{e.tasks.pop(s);const i=n(e,t);this.saveToStorage(i),this.updateInbox()}))})))}addInboxTask(e,t,a,s,i){const o=this.getInbox(),d=this.getAllProjects(),c=function(e,t,n,a,s,i=!1){return{id:e,title:t,description:n,dueDate:a,priority:s,done:i}}(`inbox-${o.tasks.length}`,e,t,a,s,i);o.tasks.push(c);const r=n(o,d);this.saveToStorage(r),this.updateInbox()}};document.querySelector("header").append(document.createElement("span"),t(),e()),function(){const e=document.createElement("nav");e.appendChild((()=>{const e=document.createElement("div");e.className="tasks",e.innerHTML="<h2>Tasks</h2>";const t=document.createElement("div");t.className="nav-items";const n=document.createElement("button");n.className="nav-item",n.innerHTML='<i class="fa-solid fa-inbox"></i><span>Inbox</span>';const a=document.createElement("button");a.className="nav-item",a.innerHTML='<i class="fa-solid fa-calendar-day"></i><span>Today<span>';const s=document.createElement("button");s.className="nav-item",s.innerHTML='<i class="fa-solid fa-calendar-days"></i><span>Upcoming<span>';const i=document.createElement("button");i.className="priority",i.innerHTML='<i class="fa-solid fa-circle-exclamation"></i><span>Priority<span>';const o=document.createElement("div");o.classList.add("subnav","nav-items"),t.append(n,a,s,i);const d=document.createElement("button");d.classList.add("nav-item","priority-item"),d.innerHTML='<i class="fa-solid fa-angle-right"></i><span>High</span>';const c=document.createElement("button");c.classList.add("nav-item","priority-item"),c.innerHTML='<i class="fa-solid fa-angle-right"></i><span>Medium</span>';const r=document.createElement("button");return r.classList.add("nav-item","priority-item"),r.innerHTML='<i class="fa-solid fa-angle-right"></i><span>Low</span>',o.append(d,c,r),t.appendChild(o),e.appendChild(t),e})()),e.appendChild((()=>{const e=document.createElement("div");e.className="projects",e.innerHTML="<h2>Projects</h2>";const t=document.createElement("div");t.classList.add("project-items","nav-items");const n=document.createElement("button");return n.classList.add("btn-add-project"),n.innerHTML='<i class="fa-solid fa-plus"></i><span>Add new project<span>',t.appendChild(n),e.appendChild(t),e})()),document.querySelector("#sidemenu").appendChild(e)}(),function(e){const t=document.querySelector("body"),n=function(e){const t=document.createElement("div");t.className="todo-modal-container";const n=document.createElement("section");n.classList.add("modal"),n.id="todo-modal",t.appendChild(n);const a=document.createElement("div");a.classList.add("modal-content"),n.appendChild(a);const s=document.createElement("h1");s.innerText="Add New Task",s.classList.add("modal-title"),a.appendChild(s);const i=document.createElement("form");i.classList.add("task-form"),a.appendChild(i);const o=document.createElement("label");o.setAttribute("for","todo-title"),o.innerText="Title",i.appendChild(o);const d=document.createElement("input");d.setAttribute("type","text"),d.setAttribute("placeholder","Title..."),d.required=!0,d.id="todo-title",i.appendChild(d);const c=document.createElement("label");c.setAttribute("for","todo-description"),c.innerText="Description",i.appendChild(c);const r=document.createElement("input");r.setAttribute("type","text"),r.setAttribute("placeholder","Add a description..."),r.id="todo-description",r.required=!0,i.appendChild(r);const l=document.createElement("label");l.setAttribute("for","due-date"),l.innerText="Due Date",i.appendChild(l);const u=document.createElement("input");u.setAttribute("type","date"),u.id="due-date",u.required=!0,i.appendChild(u);const p=document.createElement("label");p.setAttribute("for","priority"),p.innerText="Priority",i.appendChild(p);const m=document.createElement("select");m.id="priority",m.required=!0,i.appendChild(m);const b=document.createElement("option");b.setAttribute("value","low"),b.innerText="Low";const h=document.createElement("option");h.innerText="Medium",h.setAttribute("value","medium");const E=document.createElement("option");E.innerText="High",E.setAttribute("value","high"),m.append(b,h,E);const f=document.createElement("button");f.innerText="Cancel",f.addEventListener("click",(e=>{e.preventDefault(),t.style.display="none"}));const v=document.createElement("input");return v.setAttribute("type","submit"),i.append(f,v),i.onsubmit=t=>{t.preventDefault(),e.addInboxTask(d.value.trim(),r.value.trim(),u.value,m.value),d.value="",u.value="",r.value="",m.value="low"},t}(e);t.appendChild(n)}(a),function(e){const t=document.querySelector("#content"),n=document.createElement("h1");n.innerText="Inbox",n.classList.add("heading"),t.appendChild(n);const a=document.createElement("div");a.id="inbox",a.classList.add("task-view"),t.appendChild(a);const s=document.createElement("button");s.innerHTML='<i class="fa-solid fa-plus">&nbsp;</i><span>Add task<span>',s.className="btn-add-task",t.appendChild(s),e.updateInbox()}(a),a.updateInbox()}()})();